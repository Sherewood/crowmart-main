const cart=[]
var total=0	
function snowCrow(){
	//creating a variable which holds the information required to send the data
	console.log("hello")
	let crow=document.getElementById("snow-crow-listing").innerText
	crow=crow.split('Add')
	crow=crow[0].replaceAll('\n','')
	crow=crow.split('$')
	let name=crow[0]
	let price=crow[1]
	let quantity=1
	addtoCart(name,price,quantity)
/*	var xhttp= new XMLHttpRequest()
	xhttp.open("POST", "/addCart", true)
	xhttp.setRequestHeader("Content-Type", "application/json")
	console.log(JSON.stringify({name:name, price:price, quantity:quantity}))
	xhttp.send(JSON.stringify({name:name, price:price, quantity:quantity}))*/
	}
	function skyCrow(){
	//follows the same format as the other calls, creates a crow item and sends it via XML and Post to the server.
	let crow=document.getElementById("sky-crow-listing").innerText
	crow=crow.split('Add')
	crow=crow[0].replaceAll('\n','')
	crow=crow.split('$')
	let name=crow[0]
	let price=crow[1]
	let quantity=1
	
/*	var xhttp= new XMLHttpRequest()
	xhttp.open("POST", "/addCart", true)
	xhttp.setRequestHeader("Content-Type", "application/json")
	console.log(JSON.stringify({name:name, price:price, quantity:quantity}))
	xhttp.send(JSON.stringify({name:name, price:price, quantity:quantity}))*/
	}
	function canCrow(){
	let crow=document.getElementById("canyon-crow-listing").innerText
	crow=crow.split('Add')
	crow=crow[0].replaceAll('\n','')
	crow=crow.split('$')
	let name=crow[0]
	let price=crow[1]
	let quantity=1
	
/*	var xhttp= new XMLHttpRequest()
	xhttp.open("POST", "/addCart", true)
	xhttp.setRequestHeader("Content-Type", "application/json")
	console.log(JSON.stringify({name:name, price:price, quantity:quantity}))
	xhttp.send(JSON.stringify({name:name, price:price, quantity:quantity}))*/
	}
	function addtoCart(name,price,quantity)
{
	//the function will take in the information of the added item, assign them specifically to entries of the table and push it to cart/
	//console.log(req.body)
	let entry=[name,price,quantity,0] //takes in the name, price,quantity and total cost of the items
	for(var i=0; i<cart.length;i++)
	{
		if (cart[i][0]==name) //if the item already exists in the list, will mark up quantity and then add the price to the total cost
		{
			cart[i][2]+=1 //increasing the qunatity of the item if it already exists in the list 
			cart[i][3]+=parseInt(cart[i][1]) //increases the total cost for said item
			console.log("added to quantity")
			return //if it finds the item, there's no more need to iterate through		}
	}
  	//if there is no entry in cart, this will make one/ 
	entry[3]+=parseInt(entry[1])
	cart.push(entry)
	console.log(cart)
	}
}